import{u as n}from"./useECharts.4044fd86.js";import{aW as o,d as i,r as l,s as c,ax as d,_ as p,e as f,f as g,aL as h}from"./index.b11d5e47.js";function C(){return o.request({url:"/master/analysis/console",method:"get"})}function m(){return o.request({url:"/master/analysis/traffic_trends",method:"get"})}const y={width:{type:String,default:"100%"},height:{type:String,default:"280px"}},_=i({props:y,setup(){const u=l(null),{setOptions:s}=n(u),t=c({title:{text:"\u6570\u636E\u7EDF\u8BA1-\u62A5\u8868\u56FE"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["\u5F53\u5929\u603B\u8BF7\u6C42\u6B21\u6570","\u5F53\u5929\u6700\u9AD8\u8BF7\u6C42\u6B21\u6570","\u5F53\u5929\u6D3B\u8DC3\u7528\u6237","\u5F53\u5929\u65B0\u589E\u7528\u6237"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:[]}],yAxis:[{type:"value"}],series:[{name:"\u5F53\u5929\u603B\u8BF7\u6C42\u6B21\u6570",type:"line",stack:"\u603B\u91CF",areaStyle:{},smooth:!0,data:[120,132,101,134,90,230,210]},{name:"\u5F53\u5929\u6700\u9AD8\u8BF7\u6C42\u6B21\u6570",type:"line",areaStyle:{},smooth:!0,data:[220,182,191,234,290,330,310]},{name:"\u5F53\u5929\u6D3B\u8DC3\u7528\u6237",type:"line",stack:"\u603B\u91CF",areaStyle:{},smooth:!0,data:[150,232,201,154,190,330,410]},{name:"\u5F53\u5929\u65B0\u589E\u7528\u6237",type:"line",stack:"\u603B\u91CF",areaStyle:{},smooth:!0,data:[320,332,301,334,390,330,320]}]});for(let e=6;e>=0;e--){let a=new Date;a.setDate(a.getDate()-e);const r=a.getMonth()+1+"-"+a.getDate();t.xAxis[0].data.push(r)}return d(()=>{m().then(e=>{t.series[0].data=Object.values(e.plugin_max_request_count),t.series[1].data=Object.values(e.plugin_total_request_count),t.series[2].data=Object.values(e.user_active_count),t.series[3].data=Object.values(e.user_increase_count),s(t)})}),{chartRef:u}}});function B(u,s,t,e,a,r){return f(),g("div",{ref:"chartRef",style:h({height:u.height,width:u.width})},null,4)}var F=p(_,[["render",B]]),v=Object.freeze(Object.defineProperty({__proto__:null,default:F},Symbol.toStringTag,{value:"Module"}));export{F,v as a,C as g};
